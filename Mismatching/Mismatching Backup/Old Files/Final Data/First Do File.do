cd "/Users/Hadzzz/Google Drive/Mismatching/Final Data"
infile using default.dct



gen cmatch=0

* N is the sample size after everyone is dropped
scalar N=3

* The max number of courses an individual can report is 198 in the survey. The first loop is for that.
foreach var in B0135100 B0135200 B0135300 B0135400 B0135500 B0135600 B0135700 B0135800 B0135900 B0136000 B0136100 B0136200 B0136300 B0136400 B0136500 B0136600 B0136700 B0136800 B0136900 B0137000 B0137100 B0137200 B0137300 B0137400 B0137500 B0137600 B0137700 B0137800 B0137900 B0138000 B0138100 B0138200 B0138300 B0138400 B0138500 B0138600 B0138700 B0138800 B0138900 B0139000 B0139100 B0139200 B0139300 B0139400 B0139500 B0139600 B0139700 B0139800 B0139900 B0140000 B0140100 B0140200 B0140300 B0140400 B0140500 B0140600 B0140700 B0140800 B0140900 B0141000 B0141100 B0141200 B0141300 B0141400 B0141500 B0141600 B0141700 B0141800 B0141900 B0142000 B0142100 B0142200 B0142300 B0142400 B0142500 B0142600 B0142700 B0142800 B0142900 B0143000 B0143100 B0143200 B0143300 B0143400 B0143500 B0143600 B0143700 B0143800 B0143900 B0144000 B0144100 B0144200 B0144300 B0144400 B0144500 B0144600 B0144700 B0144800 B0144900 B0145000 B0145100 B0145200 B0145300 B0145400 B0145500 B0145600 B0145700 B0145800 B0145900 B0146000 B0146100 B0146200 B0146300 B0146400 B0146500 B0146600 B0146700 B0146800 B0146900 B0147000 B0147100 B0147200 B0147300 B0147400 B0147500 B0147600 B0147700 B0147800 B0147900 B0148000 B0148100 B0148200 B0148300 B0148400 B0148500 B0148600 B0148700 B0148800 B0148900 B0149000 B0149100 B0149200 B0149300 B0149400 B0149500 B0149600 B0149700 B0149800 B0149900 B0150000 B0150100 B0150200 B0150300 B0150400 B0150500 B0150600 B0150700 B0150800 B0150900 B0151000 B0151100 B0151200 B0151300 B0151400 B0151500 B0151600 B0151700 B0151800 B0151900 B0152000 B0152100 B0152200 B0152300 B0152400 B0152500 B0152600 B0152700 B0152800 B0152900 B0153000 B0153100 B0153200 B0153300 B0153400 B0153500 B0153600 B0153700 B0153800 B0153900 B0154000 B0154100 B0154200 B0154300 B0154400 B0154500 B0154600 B0154700 B0154800 {

forvalues i=1(1)N {

replace cmatch=cmatch+1 if (job==5) & (`var'=="A") in `i'
replace cmatch=cmatch+1 if (job==6) & (`var'=="B" | `var'=="D") in `i'
replace cmatch=cmatch+1 if (job==7) & (`var'=="C") in `i'

}
}


recode effort (0/4=1 Weak) (5/14=2 Moderate) (15/max=3 Strong) ///
>        , generate(efffortg) label(effortg) 


* you have to normalize variable cmatch at the end to come up with a course relevance index between 0-100.



